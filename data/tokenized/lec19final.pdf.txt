CPSC 420 Lecture 19: Today’s announcements:
▶ HW3 is on Gradescope, due Mar 9, 23:59
▶ Examlet 3 on Mar 17 in class. Closed book & no notes
▶ Reading:
NP-hardness [Erickson]
NP-completeness proofs [Cormen, Leiserson, Rivest, Stein]
Today’s Plan
▶ NP-hardness
▶ CircuitSat ✓
▶ 3SAT (and SAT) ✓
▶ Independent Set
▶ Vertex Cover
▶ Clique
▶ Hamiltonian cycle (and TSP)
1 / 11

Independent Set
An independent set is a set of vertices in a graph G that share no
common edge.
A
B
C
D
E
IndependentSet takes graph G and integer k and outputs “Yes”
if G has an independent set of size k and “No” otherwise.
Claim: IndependentSet is NP-hard.
2 / 11

Reduce from SAT to IndependentSet
Fast
input
transform
Graph
and size
IndSet
algorithm
Φ
G, k
T/F
SAT algorithm
CNF
formula
Transform a CNF formula Φ into a graph G and integer k so that
Φ is satisfied if and only if G has an independent set of size k.
3 / 11

Reduce from SAT to IndependentSet
Fast
input
transform
Graph
and size
IndSet
algorithm
Φ
G, k
T/F
SAT algorithm
CNF
formula
Transform a CNF formula Φ into a graph G and integer k so that
Φ is satisfied if and only if G has an independent set of size k.
Φ = (a) ∧ (a ∨ b) ∧ (a ∨ c) ∧ (b ∨ c ∨ d)
a
a
b
a
c
b
c
d
3 / 11

Reduce from SAT to IndependentSet
Φ = (a) ∧ (a ∨ b) ∧ (a ∨ c) ∧ (b ∨ c ∨ d)
a
a
b
a
c
b
c
d
G =
k = 4
1. Create a vertex for every occurrence of a literal in a clause.
2. Create edges between every literal occurrence and its negation.
3. For each clause, create edges between all literals in the clause.
4. Let the size of the desired independent set k = # clauses
4 / 11

Reduce from SAT to IndependentSet
Φ = (a) ∧ (a ∨ b) ∧ (a ∨ c) ∧ (b ∨ c ∨ d)
a
a
b
a
c
b
c
d
G =
k = 4
Claim: G contains an independent set of size k if and only if Φ is
satisfiable.
⇒ Let S be an independent set of size k in G. S cannot contain
two literal nodes from the same clause, so every one of the k
clauses contains one literal in S. S cannot contain a literal node
and its negation. Set all literals in S to true. This satisfies Φ.
⇐ Let A be a truth assignment satisfying Φ. Every clause contains
at least one True literal. Pick one for each of the k clauses and let
S be the set of corresponding vertices. Since A doesn’t assign True
to a literal and its negation, S is an independent set of size k.
5 / 11

Clique and Vertex Cover are NP-complete
Independet Set
Clique
Vertex Cover
Independent Set: A set of vertices that share no common edge.
Clique: A set of vertices that form a complete subgraph of G.
Vertex Cover: A set of vertices that “cover” (contain at least one
endpoint of) every edge of G.
6 / 11

Clique and Vertex Cover are NP-complete
Independet Set
Clique
Vertex Cover
Independent Set: A set of vertices that share no common edge.
Clique: A set of vertices that form a complete subgraph of G.
Vertex Cover: A set of vertices that “cover” (contain at least one
endpoint of) every edge of G.
6 / 11

Clique is NP-complete
Complement
complement
graph
graph,
size
Clique
algorithm
G, k
G, k
T/F
Independent Set
graph,
size
7 / 11

Vertex Cover is NP-complete
independent set =
vertex cover =
graph,
size
VertexCover
algorithm
G, k
G, n − k
T/F
Independent Set
graph,
size
8 / 11

Hamiltonian Cycle is NP-complete
Hamiltonian Cycle: A cycle that contains every vertex exactly once
(and returns to the start).
9 / 11

Hamiltonian Cycle is NP-complete
Hamiltonian Cycle: A cycle that contains every vertex exactly once
(and returns to the start).
9 / 11

Hamiltonian Cycle is NP-complete
Reduce from Vertex Cover.
Gadget to ensure cycle “covers” an edge.
u, v
(v, u, 1)
(u, v, 6)
(u, v, 1)
(v, u, 6)
Gadget for edge (u, v)
u ∈ Cover
v ̸∈ Cover
uv1
uv6
vu6
vu1
u ∈ Cover
v ∈ Cover
uv1
uv6
vu6
vu1
u ̸∈ Cover
v ∈ Cover
uv1
uv6
vu6
vu1
u, v
u, v
u, v
Any Hamiltonian cycle must traverse the gadget in one of these
three ways.
10 / 11

Hamiltonian Cycle is NP-complete
wx1
wx6
xw6
xw1
xy1
xy6
yx6
yx1
wy1
wy6
yw6
yw1
wz1
wz6
zw6
zw1
s1
s2
w, x
x, y
w, y
w, z
w
z
y
x
G =
k = 2
11 / 11

Hamiltonian Cycle is NP-complete
wx1
wx6
xw6
xw1
xy1
xy6
yx6
yx1
wy1
wy6
yw6
yw1
wz1
wz6
zw6
zw1
s1
s2
w, x
x, y
w, y
w, z
w
z
y
x
G =
k = 2
11 / 11

Hamiltonian Cycle is NP-complete
wx1
wx6
xw6
xw1
xy1
xy6
yx6
yx1
wy1
wy6
yw6
yw1
wz1
wz6
zw6
zw1
s1
s2
w, x
x, y
w, y
w, z
w
z
y
x
G =
k = 2
11 / 11